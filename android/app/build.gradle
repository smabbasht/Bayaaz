plugins {
  id "com.android.application"
  id "org.jetbrains.kotlin.android"
  id "com.facebook.react"
}

react {
  autolinkLibrariesWithApp()
  hermesEnabled = true
}

android {
  namespace = "com.bayaaz"
  compileSdkVersion rootProject.ext.compileSdkVersion

  defaultConfig {
    applicationId "com.bayaaz"
    minSdkVersion rootProject.ext.minSdkVersion
    targetSdkVersion rootProject.ext.targetSdkVersion
    versionCode 3
    versionName "0.1.0"
    buildConfigField "boolean", "IS_HERMES_ENABLED", "true"
  }

  signingConfigs {
    debug {
      storeFile file("debug.keystore")
      storePassword "android"
      keyAlias "androiddebugkey"
      keyPassword "android"
    }
    release {
      def f = rootProject.file("keystore.properties")
      if (f.exists()) {
        def p = new Properties(); p.load(new FileInputStream(f))
        storeFile file(p["storeFile"])
        storePassword p["storePassword"]
        keyAlias p["keyAlias"]
        keyPassword p["keyPassword"]
      }
    }
  }

  buildTypes {
    debug  { signingConfig = signingConfigs.debug }
    release {
      signingConfig = signingConfigs.release
      minifyEnabled = true
      shrinkResources = true
      proguardFiles getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro"
    }
  }

  buildFeatures { buildConfig = true }
}

dependencies {
  implementation "androidx.appcompat:appcompat:1.6.1"
  implementation "com.facebook.react:react-android:0.81.0"
  implementation "com.facebook.react:hermes-android:0.81.0"
  implementation "org.jetbrains.kotlin:kotlin-stdlib:2.1.20"
}
